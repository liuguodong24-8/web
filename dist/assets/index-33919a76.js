import{b as h,T,a as x}from"./index-7f28922b.js";import{t as k,a1 as S,_ as N}from"./index-ff2ea991.js";import{h as C,w as s,au as w,ap as I,E,q as _,o as p,O as m,P as u,m as i,z as l,W as z,p as b,V as f,U as A,n as F}from"./vue-5df46ab8.js";import"./index-8020abbe.js";const V={class:"default-main ba-table-box"},M={class:"slot-total"},O=C({name:"activityscan",__name:"index",setup(R){const{t:a}=k(),c=s("统计中..."),n=w("baTable"),d=s(0),g=()=>{F(()=>{var r;let t=parseFloat(JSON.parse(JSON.stringify(n.form.operateIds)).shift());d.value=t,console.log("id.value"),console.log(d.value),console.log("cur_id"),console.log(t),console.log("还是原来的--也注释了初始化"),e.table.filter={activity_id:t},(r=e.getIndex())==null||r.then(()=>{var o;e.initSort(),e.dragSort(),c.value=(o=e.table.total)==null?void 0:o.toString()})})},v=s(),e=new h(new S("/admin/Activityscan/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:a("activity.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:a("activity.act_name"),prop:"activity.act_name",align:"center",operatorPlaceholder:a("Fuzzy query"),render:"tags",operator:"LIKE"},{label:a("activity.dev__user_name"),prop:"dev.user_name",align:"center",operatorPlaceholder:a("Fuzzy query"),render:"tags",operator:"LIKE"},{label:a("activity.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"}],dblClickNotEditColumn:[void 0]},{defaultItems:{}});return I("baTable",e),E(()=>{console.log("放到 onMounted里面来"),e.mount()}),(t,r)=>{const o=_("el-alert"),y=_("el-dialog");return p(),m(y,{class:"ba-operate-dialog",onOpen:g,"close-on-click-modal":!1,"model-value":["ScanList"].includes(l(n).form.operate),onClose:l(n).toggleForm},{default:u(()=>[i("div",V,[l(e).table.remark?(p(),m(o,{key:0,class:"ba-table-alert",title:l(e).table.remark,type:"info","show-icon":""},null,8,["title"])):z("",!0),b(T,{buttons:["refresh","comSearch"]},{default:u(()=>[i("div",M,[f("已签到人数："),i("strong",null,A(c.value),1),f(" 人")])]),_:1}),b(x,{ref_key:"tableRef",ref:v},null,512)])]),_:1},8,["model-value","onClose"])}}});const G=N(O,[["__scopeId","data-v-5f01b3ea"]]);export{G as default};
