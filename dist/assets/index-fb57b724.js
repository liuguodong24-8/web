import{d as m,b as d,T as u,a as b}from"./index-4f33ef6e.js";import{t as f,D as h,a1 as g}from"./index-d68ba36c.js";import{_}from"./popupForm.vue_vue_type_script_setup_true_lang-1de010de.js";import{h as k,w as E,al as T,ap as w,E as x,q as B,o as p,k as v,z as r,O as S,W as C,p as o}from"./vue-9888607f.js";import"./index-5b09613c.js";import"./index-d87f9e8e.js";import"./validate-905cfe5c.js";const y={class:"default-main ba-table-box"},V=k({name:"sms/template",__name:"index",setup(I){const{t:e}=f(),n=E(),i=m(["edit","delete"]);i.push({render:"tipButton",name:"test_send",title:"sms.template.test_send",text:"",type:"success",icon:"el-icon-MagicStick",class:"table-row-test",disabledTip:!1,click:a=>{T.prompt(e("sms.template.Please enter the receiver mobile"),e("sms.template.test_send"),{confirmButtonText:e("sms.config.send out"),cancelButtonText:e("Cancel"),inputPattern:/^1\d{10}$/,inputErrorMessage:e("sms.template.Please enter the correct mobile number"),beforeClose:(c,l,s)=>{c==="confirm"?(l.confirmButtonLoading=!0,l.confirmButtonText=e("sms.config.Sending"),h(l.inputValue,a.code).then(()=>{s()}).catch(()=>{s()})):s()}})}});const t=new d(new g("/admin/sms.template/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("sms.template.id"),prop:"id",align:"center",width:70,sortable:"custom",operator:"RANGE"},{label:e("sms.template.title"),prop:"title",align:"center",operator:"LIKE"},{label:e("sms.template.code"),prop:"code",align:"center",operator:"LIKE"},{label:e("sms.template.template"),prop:"template",align:"center"},{label:e("sms.template.content"),prop:"content",align:"center",showOverflowTooltip:!0,operator:"LIKE"},{label:e("sms.template.variables"),prop:"variable_text",render:"tags",operator:!1,align:"center"},{label:e("State"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:e("Disable"),1:e("Enable")}},{label:e("sms.template.updatetime"),prop:"updatetime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("sms.template.createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("Operate"),align:"center",width:140,render:"buttons",buttons:i,operator:!1}],dblClickNotEditColumn:[void 0],defaultOrder:{prop:"id",order:"desc"}},{defaultItems:{status:"1"}});return w("baTable",t),x(()=>{var a;t.table.ref=n.value,t.mount(),(a=t.getIndex())==null||a.then(()=>{t.initSort(),t.dragSort()})}),(a,c)=>{const l=B("el-alert");return p(),v("div",y,[r(t).table.remark?(p(),S(l,{key:0,class:"ba-table-alert",title:r(t).table.remark,type:"info","show-icon":""},null,8,["title"])):C("",!0),o(u,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":r(e)("Quick search placeholder",{fields:r(e)("sms.template.quick Search Fields")})},null,8,["quick-search-placeholder"]),o(b,{ref_key:"tableRef",ref:n},null,512),o(_)])}}});export{V as default};
