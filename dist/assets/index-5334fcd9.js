import{d as I,b as q,T as E,a as A}from"./index-7f28922b.js";import{q as C,t as F,a1 as L,g as P,ae as T}from"./index-ff2ea991.js";import{_ as w}from"./popupForm.vue_vue_type_script_setup_true_lang-143bf10a.js";import{_ as K}from"./popupFormUp.vue_vue_type_script_setup_true_lang-e2cffeb2.js";import{h as S,w as B,ap as $,E as D,q as u,X as N,o as m,k as M,z as t,O as g,W as O,p as o,P as l,V as i,U as y,_ as V,am as h}from"./vue-5df46ab8.js";import"./index-8020abbe.js";import"./index-4fdfed13.js";import"./validate-358b5494.js";const R={class:"default-main ba-table-box"},Z=S({name:"dev",__name:"index",setup(U){const v=C(),k=()=>{const r="http://test.hellocrab.top?token="+v.getToken();window.open(r,"_blank")},b=r=>{a.getSelectionIds(),console.log("点击"),console.log(r)},f=r=>{console.log("点击"),console.log(r);const n=a.getSelectionIds();P({url:T()+"/admin/dev/lockOrUnlock",method:"post",params:{ids:n,state:r}}).then(s=>{console.log(s),h.success("操作成功")}).catch(s=>{console.error("请求数据失败",s),h.success("操作成功")})},{t:e}=F(),_=B(),x=I(["edit","delete","update"]),a=new q(new L("/admin/Dev/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("dev.user_avatar"),prop:"user_avatar",align:"center",render:"image",operator:!1},{label:e("dev.user_name"),prop:"user_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.period__phase_name"),prop:"period.phase_name",align:"center",operatorPlaceholder:e("Fuzzy query"),render:"tags",operator:"LIKE"},{label:e("dev.grade__grade_name"),prop:"grade.grade_name",align:"center",operatorPlaceholder:e("Fuzzy query"),render:"tags",operator:"LIKE"},{label:e("dev.class_name"),prop:"class_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.in_year"),prop:"in_year",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.school_name"),prop:"school_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.teacher_mobile"),prop:"teacher_mobile",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.teacher_name"),prop:"teacher_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.guardian_name"),prop:"guardian_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.guardian_mobile"),prop:"guardian_mobile",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE",sortable:!1},{label:e("dev.update_time"),prop:"update_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:x,operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{}});return $("baTable",a),D(()=>{var r;a.table.ref=_.value,a.mount(),(r=a.getIndex())==null||r.then(()=>{a.initSort(),a.dragSort()})}),(r,n)=>{const s=u("el-alert"),c=u("el-button"),p=u("el-popconfirm"),z=N("blur");return m(),M("div",R,[t(a).table.remark?(m(),g(s,{key:0,class:"ba-table-alert",title:t(a).table.remark,type:"info","show-icon":""},null,8,["title"])):O("",!0),o(E,{buttons:["refresh","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":t(e)("Quick search placeholder",{fields:t(e)("dev.quick Search Fields")})},{refreshPrepend:l(()=>[o(p,{onConfirm:n[0]||(n[0]=d=>f(1)),"confirm-button-text":t(e)("锁定"),"cancel-button-text":t(e)("取消"),confirmButtonType:"danger",title:t(e)("是否锁定?")},{reference:l(()=>[o(c,{type:"danger"},{default:l(()=>[i("锁定")]),_:1})]),_:1},8,["confirm-button-text","cancel-button-text","title"]),o(p,{onConfirm:n[1]||(n[1]=d=>f(0)),"confirm-button-text":t(e)("解锁"),"cancel-button-text":t(e)("取消"),title:t(e)("是否解锁?")},{reference:l(()=>[o(c,{type:"success"},{default:l(()=>[i("启用")]),_:1})]),_:1},8,["confirm-button-text","cancel-button-text","title"]),o(p,{onConfirm:n[2]||(n[2]=d=>b(1)),"confirm-button-text":t(e)("dev.lock"),"cancel-button-text":t(e)("Cancel"),confirmButtonType:"danger",title:t(e)("dev.Are you sure to lockAll?")},{reference:l(()=>[o(c,{type:"danger"},{default:l(()=>[i(y(t(e)("dev.lockAll")),1)]),_:1})]),_:1},8,["confirm-button-text","cancel-button-text","title"]),o(p,{onConfirm:n[3]||(n[3]=d=>b(0)),"confirm-button-text":t(e)("dev.unlock"),"cancel-button-text":t(e)("Cancel"),title:t(e)("dev.Are you sure to unlockAll?")},{reference:l(()=>[o(c,{type:"success"},{default:l(()=>[i(y(t(e)("dev.unlockAll")),1)]),_:1})]),_:1},8,["confirm-button-text","cancel-button-text","title"]),V((m(),g(c,{onClick:k,type:"primary",icon:"el-icon-AddLocation"},{default:l(()=>[i("实时位置")]),_:1})),[[z]])]),_:1},8,["quick-search-placeholder"]),o(A,{ref_key:"tableRef",ref:_},null,512),o(w),o(K)])}}});export{Z as default};
