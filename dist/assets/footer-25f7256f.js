import{_ as W}from"./logo-b67ce0cf.js";import{h as L,q as _,X as j,o,k as V,Y as R,Z as D,z as n,i as G,_ as I,O as l,P as s,W as y,V as w,U as m,$ as B,N as q,a0 as P,r as J,F as X,p as v,m as h,n as K,a1 as Q,a2 as ee}from"./vue-5df46ab8.js";import{_ as A,b as ne,c as te,u as O,a as Y,f as oe,e as ae}from"./index-ff2ea991.js";import{i as se}from"./index-2c5e7678.js";import{o as F}from"./router-0f6c6dd5.js";import{D as re,t as le}from"./darkSwitch-412d2207.js";const ce=L({__name:"menuSub",props:{menus:{default:()=>[]},showIcon:{type:Boolean,default:!1}},setup(x){const C=x,g=p=>{var i;p.path=="/"||((i=p.meta)==null?void 0:i.type)=="menu_dir"||F(p)};return(p,i)=>{const k=_("Icon"),r=_("el-menu-item"),N=_("el-sub-menu"),f=j("blur");return o(!0),V(D,null,R(C.menus,(d,S)=>{var U,M;return o(),V(D,{key:S},[n(G)(d.children)?I((o(),l(r,{key:1,onClick:a=>n(F)(d),index:"column-"+((M=d.meta)==null?void 0:M.id),class:B(d.name.replace(/[\/]/g,"-"))},{title:s(()=>{var a;return[w(m((a=d.meta)==null?void 0:a.title),1)]}),default:s(()=>{var a;return[p.showIcon?(o(),l(k,{key:0,name:(a=d.meta)==null?void 0:a.icon,color:"var(--el-text-color-primary)"},null,8,["name"])):y("",!0)]}),_:2},1032,["onClick","index","class"])),[[f]]):I((o(),l(N,{key:0,onClick:a=>g(d),index:`column-${(U=d.meta)==null?void 0:U.id}`},{title:s(()=>{var a,e;return[p.showIcon?(o(),l(k,{key:0,name:(a=d.meta)==null?void 0:a.icon,color:"var(--el-text-color-primary)"},null,8,["name"])):y("",!0),w(" "+m((e=d.meta)==null?void 0:e.title),1)]}),default:s(()=>[(o(!0),V(D,null,R(d.children,(a,e)=>{var t;return I((o(),l(r,{key:e,onClick:c=>n(F)(a),index:"column-"+((t=a.meta)==null?void 0:t.id),class:B(a.name.replace(/[\/]/g,"-"))},{title:s(()=>{var c;return[w(m((c=a.meta)==null?void 0:c.title),1)]}),default:s(()=>{var c;return[p.showIcon?(o(),l(k,{key:0,name:(c=a.meta)==null?void 0:c.icon,color:"var(--el-text-color-primary)"},null,8,["name"])):y("",!0)]}),_:2},1032,["onClick","index","class"])),[[f]])}),128))]),_:2},1032,["onClick","index"])),[[f]])],64)}),128)}}});const H=A(ce,[["__scopeId","data-v-253da2e2"]]),ie={class:"header-user-box"},ue=["src"],de=L({__name:"menu",props:{showIcon:{type:Boolean,default:!1}},setup(x){const C=q(),g=P(),p=ne(),i=te(),k=O(),r=Y(),N=x,f=J({activeMenu:""}),d=e=>{var t,c;for(const u in r.state.navUserMenus)if(r.state.navUserMenus[u].path==e.path||r.state.navUserMenus[u].name==e.name)return(t=r.state.navUserMenus[u].meta)==null?void 0:t.id;for(const u in k.headNav)if(k.headNav[u].path==e.path||k.headNav[u].name==e.name)return(c=k.headNav[u].meta)==null?void 0:c.id},S=e=>{if(e.path=="/")return f.activeMenu="index";const t=d(e);t?f.activeMenu="column-"+t:e.path.startsWith("/user")&&(f.activeMenu="user")};S(C);const U=e=>{if(M(k.headNav,e)||M(r.state.navUserMenus,e)){const t=f.activeMenu;f.activeMenu="",K(()=>{f.activeMenu=t})}},M=(e,t)=>t.indexOf("language-switch")===0||t=="theme-switch"?!0:a(e,t),a=(e,t)=>{var c,u,z;for(const E in e){if(`column-${(c=e[E].meta)==null?void 0:c.id}`==t)return((u=e[E].meta)==null?void 0:u.menu_type)=="link";if((z=e[E].children)!=null&&z.length)return a(e[E].children,t)}return!1};return X(()=>C.path,()=>{S(C)}),(e,t)=>{const c=_("Icon"),u=_("el-menu-item"),z=_("el-sub-menu"),E=_("el-menu"),b=j("blur");return o(),l(E,{"default-active":f.activeMenu,onSelect:U},{default:s(()=>[I((o(),l(u,{onClick:t[0]||(t[0]=$=>n(g).push({name:"/"})),index:"index"},{title:s(()=>[w(m(e.$t("Home")),1)]),default:s(()=>[N.showIcon?(o(),l(c,{key:0,name:"fa fa-home",color:"var(--el-text-color-primary)"})):y("",!0)]),_:1})),[[b]]),v(H,{menus:n(k).headNav,"show-icon":e.showIcon},null,8,["menus","show-icon"]),n(r).state.open?(o(),V(D,{key:0},[n(i).isLogin()?I((o(),l(z,{key:0,onClick:t[3]||(t[3]=$=>e.$attrs.mode=="vertical"?"":n(g).push({name:"user"})),index:"user-box"},{title:s(()=>[h("div",ie,[h("img",{class:B(["header-user-avatar",e.$attrs.mode=="vertical"?"icon-header-user-avatar":""]),src:n(oe)(n(i).avatar?n(i).avatar:"/static/images/avatar.png"),alt:""},null,10,ue),w(" "+m(n(i).nickname),1)])]),default:s(()=>[I((o(),l(u,{onClick:t[1]||(t[1]=$=>n(g).push({name:"user"})),index:"user"},{default:s(()=>[e.showIcon?(o(),l(c,{key:0,name:"fa fa-user-circle",color:"var(--el-text-color-primary)"})):y("",!0),w(" "+m(e.$t("Member Center")),1)]),_:1})),[[b]]),v(H,{menus:n(r).state.navUserMenus,"show-icon":e.showIcon},null,8,["menus","show-icon"]),v(H,{menus:n(r).state.viewRoutes,"show-icon":e.showIcon},null,8,["menus","show-icon"]),I((o(),l(u,{onClick:t[2]||(t[2]=$=>n(i).logout()),index:"user-logout"},{default:s(()=>[e.showIcon?(o(),l(c,{key:0,name:"fa fa-sign-out",color:"var(--el-text-color-primary)"})):y("",!0),w(" "+m(e.$t("Logout login")),1)]),_:1})),[[b]])]),_:1})),[[b]]):I((o(),l(u,{key:1,onClick:t[4]||(t[4]=$=>n(g).push({name:"user"})),index:"user"},{default:s(()=>[e.showIcon?(o(),l(c,{key:0,name:"fa fa-user-circle",color:"var(--el-text-color-primary)"})):y("",!0),w(" "+m(e.$t("Member Center")),1)]),_:1})),[[b]]),I((o(),l(z,{index:"language-switch",class:"language-switch"},{title:s(()=>[e.showIcon?(o(),l(c,{key:0,name:"local-lang",color:"var(--el-text-color-primary)"})):y("",!0),w(" "+m(e.$t("Language")),1)]),default:s(()=>[(o(!0),V(D,null,R(n(p).lang.langArray,$=>(o(),l(u,{onClick:ye=>n(ae)($.name),key:$.name,index:"language-switch-"+$.value,class:"language-switch"},{default:s(()=>[e.showIcon?(o(),l(c,{key:0,name:"fa fa-circle-o",color:"var(--el-text-color-primary)"})):y("",!0),w(" "+m($.value),1)]),_:2},1032,["onClick","index"]))),128))]),_:1})),[[b]]),v(u,{index:"theme-switch",class:B(["theme-switch",e.$attrs.mode+"-theme-switch"])},{default:s(()=>[v(re,{onClick:t[5]||(t[5]=$=>n(le)())})]),_:1},8,["class"])],64)):y("",!0)]),_:1},8,["default-active"])}}});const T=A(de,[["__scopeId","data-v-f404ac53"]]),Z=x=>(Q("data-v-d2397cc9"),x=x(),ee(),x),me=Z(()=>h("img",{src:W},null,-1)),_e={class:"site-name"},pe={class:"header-row"},fe=Z(()=>h("img",{src:W},null,-1)),ve={class:"site-name"},he=L({__name:"header",setup(x){const C=q(),g=P(),p=O(),i=Y();return X(()=>C.path,()=>{i.toggleMenuExpand(!1)},{immediate:!0}),se(),(k,r)=>{const N=_("Icon"),f=_("el-scrollbar"),d=_("el-col"),S=_("el-row"),U=_("el-drawer"),M=_("el-header");return o(),l(M,{class:"header"},{default:s(()=>[v(S,{justify:"center"},{default:s(()=>[v(d,{class:"header-row",xs:24,sm:24,md:16},{default:s(()=>[h("div",{onClick:r[0]||(r[0]=a=>n(g).push({name:"/"})),class:"header-logo"},[me,h("span",_e,m(n(p).siteName),1)]),n(i).state.menuExpand?y("",!0):(o(),V("div",{key:0,onClick:r[1]||(r[1]=a=>n(i).toggleMenuExpand(!0)),class:"user-menus-expand hidden-md-and-up"},[v(N,{name:"fa fa-indent",color:"var(--el-color-primary)",size:"20"})])),v(f,{class:"hidden-sm-and-down"},{default:s(()=>[v(T,{class:"frontend-header-menu",ellipsis:!1,mode:"horizontal"})]),_:1})]),_:1})]),_:1}),v(U,{class:"ba-aside-drawer","append-to-body":!0,modelValue:n(i).state.menuExpand,"onUpdate:modelValue":r[4]||(r[4]=a=>n(i).state.menuExpand=a),"with-header":!1,direction:"ltr",size:"40%"},{default:s(()=>[h("div",pe,[h("div",{onClick:r[2]||(r[2]=a=>n(g).push({name:"/"})),class:"header-logo"},[fe,h("span",ve,m(n(p).siteName),1)]),h("div",{onClick:r[3]||(r[3]=a=>n(i).toggleMenuExpand(!1)),class:"user-menus-expand hidden-md-and-up"},[v(N,{name:"fa fa-dedent",color:"var(--el-color-primary)",size:"20"})])]),v(T,{"show-icon":!0,mode:"vertical"})]),_:1},8,["modelValue"])]),_:1})}}});const be=A(he,[["__scopeId","data-v-d2397cc9"]]),ge={href:"http://beian.miit.gov.cn/"},ke=L({__name:"footer",setup(x){const C=O();return(g,p)=>{const i=_("el-footer");return o(),l(i,{class:"footer"},{default:s(()=>[h("div",null,[w(" Copyright @ 2020~2022 "+m(n(C).siteName)+" "+m(g.$t("Copyright"))+" ",1),h("a",ge,m(n(C).recordNumber),1)])]),_:1})}}});const Ne=A(ke,[["__scopeId","data-v-5dadaf49"]]);export{Ne as F,be as H};
