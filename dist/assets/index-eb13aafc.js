import{d as b,b as f,T as v,a as g}from"./index-af5fefe5.js";import{g as h,t as _,a1 as k}from"./index-9606f8b9.js";import{_ as w}from"./popupForm.vue_vue_type_script_setup_true_lang-47c3945f.js";import{h as T,w as V,aG as q,ap as R,E,q as c,o as p,k as y,z as l,O as B,W as C,p as s,aC as m,al as O}from"./vue-9888607f.js";import"./index-fa61ac2c.js";import"./index-3663f9d1.js";import"./validate-f45aa004.js";function x(o){return h({url:"/admin/sms.Variable/getVar",method:"get",params:{id:o}})}const N={class:"default-main ba-table-box"},z=T({name:"sms/variable",__name:"index",setup(o){const{t:e}=_(),n=V(),u=b(["edit","delete"]),d={render(r){if(r.$attrs.renderValue)return m("span",r.$attrs.renderValue);const i=()=>{x(r.$attrs.renderRow.id).then(t=>{O.alert(t.data,"计算结果",{confirmButtonText:"确定"})})};return m(c("el-link"),{type:"primary",onClick:i},()=>"点击计算")}},a=new f(new k("/admin/sms.variable/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("sms.variable.id"),prop:"id",align:"center",width:70,sortable:"custom",operator:"RANGE"},{label:e("sms.variable.title"),prop:"title",align:"center"},{label:e("sms.variable.name"),prop:"name",align:"center"},{label:e("sms.variable.value_source"),prop:"value_source",align:"center",render:"tag",replaceValue:{literal:e("sms.variable.value_source literal"),func:e("sms.variable.value_source func"),sql:e("sms.variable.value_source sql")}},{label:e("sms.variable.value"),prop:"value",align:"center",render:"customRender",customRender:q(d),showOverflowTooltip:!0},{label:e("sms.variable.sql"),prop:"sql",align:"center",showOverflowTooltip:!0},{label:e("sms.variable.namespace"),prop:"namespace",align:"center",showOverflowTooltip:!0},{label:e("sms.variable.class"),prop:"class",align:"center"},{label:e("sms.variable.func"),prop:"func",align:"center"},{label:e("sms.variable.param"),prop:"param",align:"center"},{label:e("State"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:e("Disable"),1:e("Enable")}},{label:e("sms.variable.updatetime"),prop:"updatetime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("sms.variable.createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("Operate"),align:"center",width:100,render:"buttons",buttons:u,operator:!1}],dblClickNotEditColumn:[void 0],defaultOrder:{prop:"id",order:"desc"}},{defaultItems:{value_source:"literal",status:"1"}});return R("baTable",a),E(()=>{var r;a.table.ref=n.value,a.mount(),(r=a.getIndex())==null||r.then(()=>{a.initSort(),a.dragSort()})}),(r,i)=>{const t=c("el-alert");return p(),y("div",N,[l(a).table.remark?(p(),B(t,{key:0,class:"ba-table-alert",title:l(a).table.remark,type:"info","show-icon":""},null,8,["title"])):C("",!0),s(v,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":l(e)("Quick search placeholder",{fields:l(e)("sms.variable.quick Search Fields")})},null,8,["quick-search-placeholder"]),s(g,{ref_key:"tableRef",ref:n},null,512),s(w)])}}});export{z as default};
