import{h as F,w as B,au as D,r as I,q as d,X as m,o as i,O as n,P as r,_ as p,k as N,V as f,U as _,z as e,m as g,l as v,p as s,$ as U,ac as W,a8 as $,W as P}from"./vue-9888607f.js";import{t as T}from"./index-a32a01c5.js";import{F as b}from"./index-7c3dd670.js";import{b as V}from"./validate-1cd91476.js";const E={class:"title"},M=F({__name:"popupForm",setup(K){const u=B(),a=D("baTable"),{t:l}=T(),y=I({update_time:[V({name:"date",title:l("dev.update_time")})],create_time:[V({name:"date",title:l("dev.create_time")})]});return(R,o)=>{const w=d("el-form"),C=d("el-scrollbar"),c=d("el-button"),h=d("el-dialog"),k=m("drag"),x=m("zoom"),S=m("loading"),z=m("blur");return i(),n(h,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(a).form.operate),onClose:e(a).toggleForm,width:"50%"},{header:r(()=>[p((i(),N("div",E,[f(_(e(a).form.operate?e(l)(e(a).form.operate):""),1)])),[[k,[".ba-operate-dialog",".el-dialog__header"]],[x,".ba-operate-dialog"]])]),footer:r(()=>[g("div",{style:v("width: calc(100% - "+e(a).form.labelWidth/1.8+"px)")},[s(c,{onClick:o[5]||(o[5]=t=>e(a).toggleForm())},{default:r(()=>[f(_(e(l)("Cancel")),1)]),_:1}),p((i(),n(c,{loading:e(a).form.submitLoading,onClick:o[6]||(o[6]=t=>e(a).onSubmit(u.value)),type:"primary"},{default:r(()=>[f(_(e(a).form.operateIds&&e(a).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[z]])],4)]),default:r(()=>[p((i(),n(C,{class:"ba-table-form-scrollbar"},{default:r(()=>[g("div",{class:U(["ba-operate-form","ba-"+e(a).form.operate+"-form"]),style:v("width: calc(100% - "+e(a).form.labelWidth/2+"px)")},[e(a).form.loading?P("",!0):(i(),n(w,{key:0,ref_key:"formRef",ref:u,onSubmit:o[3]||(o[3]=W(()=>{},["prevent"])),onKeyup:o[4]||(o[4]=$(t=>e(a).onSubmit(u.value),["enter"])),model:e(a).form.items,"label-position":"right","label-width":e(a).form.labelWidth+"px",rules:y},{default:r(()=>[s(b,{label:e(l)("dev.user_avatar"),type:"image",modelValue:e(a).form.items.user_avatar,"onUpdate:modelValue":o[0]||(o[0]=t=>e(a).form.items.user_avatar=t),prop:"user_avatar"},null,8,["label","modelValue"]),s(b,{label:e(l)("dev.guardian_name"),type:"string",modelValue:e(a).form.items.guardian_name,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).form.items.guardian_name=t),prop:"guardian_name",placeholder:e(l)("Please input field",{field:e(l)("dev.guardian_name")})},null,8,["label","modelValue","placeholder"]),s(b,{label:e(l)("dev.guardian_mobile"),type:"string",modelValue:e(a).form.items.guardian_mobile,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).form.items.guardian_mobile=t),prop:"guardian_mobile",placeholder:e(l)("Please input field",{field:e(l)("dev.guardian_mobile")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[S,e(a).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{M as _};
