import{b as T,T as x,a as N}from"./index-af5fefe5.js";import{g as S,t as w,a1 as C,_ as q}from"./index-9606f8b9.js";import{h as V,w as m,au as I,ap as M,E,q as g,o as _,O as u,P as p,m as r,z as a,W as F,p as b,V as d,U as f}from"./vue-9888607f.js";import"./index-fa61ac2c.js";const R="/admin/messagesendlist/total";function A(c){return S({url:R,method:"get",params:{id:c}},{showSuccessMessage:!0})}const O={class:"default-main ba-table-box"},z={class:"slot-total"},B={class:"onready"},G={class:"noready"},J=V({name:"messagesendlist",__name:"index",setup(c){const{t:e}=w(),o=m(["",""]),n=I("baTable"),l=m(0),h=()=>{var i;o.value=["查询中...","查询中..."],l.value=parseFloat(JSON.parse(JSON.stringify(n.form.operateIds)).shift()),console.log("id.value"),console.log(l.value),A(l.value).then(t=>{console.log("messageTotal返回结果集"),console.log(t),o.value=t.data}).catch(t=>{console.log(t)}),s.table.filter={message_id:l.value},(i=s.getIndex())==null||i.then(()=>{s.initSort(),s.dragSort()})},v=m(),s=new T(new C("/admin/Messagesendlist/"),{pk:"id",column:[{label:e("message.messagesendlist.id"),prop:"id",align:"center",width:70,operator:"RANGE",sortable:"custom"},{label:e("message.mes_important"),prop:"message.mes_important",align:"center",render:"tag",custom:{0:"info",1:"danger"},operator:"eq",sortable:!1,replaceValue:{0:e("message.message__mes_important 0"),1:e("message.message__mes_important 1")}},{label:e("message.messagesendlist.dev__user_name"),prop:"dev.user_name",align:"center",operatorPlaceholder:e("Fuzzy query"),operator:"LIKE"},{label:e("message.messagesendlist.create_time"),prop:"create_time",align:"center",render:"datetime",operator:"RANGE",sortable:"custom",width:160,timeFormat:"yyyy-mm-dd hh:MM:ss"},{label:e("message.messagesendlist.msg_status"),prop:"msg_status",align:"center",render:"tag",custom:{0:"danger",1:"info"},operator:"eq",sortable:!1,replaceValue:{0:e("message.messagesendlist.msg_status 0"),1:e("message.messagesendlist.msg_status 1")}}],dblClickNotEditColumn:[void 0]},{defaultItems:{msg_status:"0"}});return M("baTable",s),E(()=>{s.mount()}),(i,t)=>{const y=g("el-alert"),k=g("el-dialog");return _(),u(k,{class:"ba-operate-dialog",onOpen:h,"close-on-click-modal":!1,"model-value":["ReadyList"].includes(a(n).form.operate),onClose:a(n).toggleForm},{default:p(()=>[r("div",O,[a(s).table.remark?(_(),u(y,{key:0,class:"ba-table-alert",title:a(s).table.remark,type:"info","show-icon":""},null,8,["title"])):F("",!0),b(x,{buttons:["refresh","comSearch"],"quick-search-placeholder":a(e)("Quick search placeholder",{fields:a(e)("messagesendlist.quick Search Fields")})},{default:p(()=>[r("div",z,[d("已读数量："),r("strong",B,f(o.value[1]),1),d(" 条       未读数量："),r("strong",G,f(o.value[0]),1),d(" 条")])]),_:1},8,["quick-search-placeholder"]),b(N,{ref_key:"tableRef",ref:v},null,512)])]),_:1},8,["model-value","onClose"])}}});const D=q(J,[["__scopeId","data-v-6949956a"]]);export{D as default};
